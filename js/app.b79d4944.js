(function(){"use strict";var e={2688:function(e,n,t){var o=t(9242),s=t(5860),r=t(7749),i=t(3494),a=t(8539),c=(t(2166),t(3396));function l(e,n,t,o,s,r){const i=(0,c.up)("RootComponent");return(0,c.wg)(),(0,c.j4)(i)}var d=t(7139);const u={class:"container px-5 mt-4 mb-4 mx-auto"},p={class:"d-flex justify-content-between"},f={class:"btn btn-lg btn-secondary mx-2",disabled:!0},g={key:0},h={key:1};function v(e,n,t,o,s,r){const i=(0,c.up)("fa"),a=(0,c.up)("loading"),l=(0,c.up)("CheckoutComponent"),v=(0,c.up)("LessonComponent");return(0,c.wg)(),(0,c.iD)("div",null,[(0,c._)("div",u,[(0,c._)("div",p,[(0,c._)("button",f,(0,d.zw)(s.showCheckout?"Cart Page":"Lessons Page"),1),(0,c._)("button",{class:"btn btn-lg btn-warning mx-2",onClick:n[0]||(n[0]=e=>s.showCheckout=!s.showCheckout)},[(0,c.Uk)((0,d.zw)(s.cart.length)+" ",1),(0,c.Wm)(i,{icon:"shopping-cart"}),(0,c.Uk)("   |   "),s.showCheckout?((0,c.wg)(),(0,c.iD)("span",g,[(0,c.Wm)(i,{icon:"fa-solid fa-arrow-left"}),(0,c.Uk)(" Go Back")])):((0,c.wg)(),(0,c.iD)("span",h,[(0,c.Uk)("Cart "),(0,c.Wm)(i,{icon:"fa-solid fa-arrow-right"})]))])])]),(0,c.Wm)(a,{active:s.isLoading,"is-full-page":s.fullPage},null,8,["active","is-full-page"]),s.showCheckout?((0,c.wg)(),(0,c.j4)(l,{key:0,cart:s.cart,error:s.error,onRemoveLesson:r.removeLesson},null,8,["cart","error","onRemoveLesson"])):((0,c.wg)(),(0,c.j4)(v,{key:1,lessons:s.lessonData,error:s.error,onAddLesson:r.addLesson},null,8,["lessons","error","onAddLesson"]))])}t(7658);const m={class:"d-flex justify-content-center"},w={key:0,class:"error"},b={class:"row justify-content-center"},_={class:"card set-border",style:{width:"28rem"}},y={class:"card-body"},k={class:"card-title"},C={class:"row"},L={class:"col"},j={class:"set-alignment-left"},x={class:"col set-alignment-right"},D=["src"],z={class:"d-flex justify-content-center"},O=["onClick","disabled"];function P(e,n,t,o,s,r){return(0,c.wg)(),(0,c.iD)("div",null,[(0,c._)("section",m,[t.error?((0,c.wg)(),(0,c.iD)("p",w,(0,d.zw)(t.error),1)):(0,c.kq)("",!0),(0,c._)("div",b,[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(t.lessons,(n=>((0,c.wg)(),(0,c.iD)("div",{key:n._id,class:"d-flex justify-content-center"},[(0,c._)("div",_,[(0,c._)("div",y,[(0,c._)("h5",k,[(0,c._)("div",C,[(0,c._)("div",L,[(0,c._)("ul",j,[(0,c._)("li",null," topic: "+(0,d.zw)(n.topic),1),(0,c._)("li",null," location: "+(0,d.zw)(n.location),1),(0,c._)("li",null," price: "+(0,d.zw)(n.price),1),(0,c._)("li",null," space: "+(0,d.zw)(n.space),1)])]),(0,c._)("div",x,[(0,c._)("img",{src:n.pic,class:"image-size"},null,8,D)])])]),(0,c._)("div",z,[(0,c._)("button",{class:"btn btn-lg btn-success mx-2",onClick:t=>e.$emit("addLesson",n),disabled:n.space<=0}," Add to cart ",8,O)])])])])))),128))])])])}var R={name:"LessonComponent",props:["lessons","error"]},T=t(89);const A=(0,T.Z)(R,[["render",P],["__scopeId","data-v-6a5bc205"]]);var S=A;const N=e=>((0,c.dD)("data-v-4123a551"),e=e(),(0,c.Cn)(),e),I={class:"d-flex justify-content-center"},U={key:0,class:"error"},Z={class:"row justify-content-center"},E={key:0},W=N((()=>(0,c._)("p",null,"The cart is empty. Go back to the Lesson page and add lesson to the shopping cart",-1))),$=[W],q={class:"card set-border",style:{width:"28rem"}},B={class:"card-body"},F={class:"card-title"},G={class:"row"},M={class:"col"},H={class:"set-alignment-left"},K={class:"col set-alignment-right"},Y=["src"],J={class:"d-flex justify-content-center"},Q=["onClick","disabled"];function V(e,n,t,o,s,r){return(0,c.wg)(),(0,c.iD)("div",null,[(0,c._)("section",I,[t.error?((0,c.wg)(),(0,c.iD)("p",U,(0,d.zw)(t.error),1)):(0,c.kq)("",!0),(0,c._)("div",Z,[0==t.cart.length?((0,c.wg)(),(0,c.iD)("div",E,$)):((0,c.wg)(!0),(0,c.iD)(c.HY,{key:1},(0,c.Ko)(t.cart,(n=>((0,c.wg)(),(0,c.iD)("div",{key:n._id,class:"d-flex justify-content-center"},[(0,c._)("div",q,[(0,c._)("div",B,[(0,c._)("h5",F,[(0,c._)("div",G,[(0,c._)("div",M,[(0,c._)("ul",H,[(0,c._)("li",null," topic: "+(0,d.zw)(n.topic),1),(0,c._)("li",null," location: "+(0,d.zw)(n.location),1),(0,c._)("li",null," price: "+(0,d.zw)(n.price),1),(0,c._)("li",null," space: "+(0,d.zw)(n.space),1)])]),(0,c._)("div",K,[(0,c._)("img",{src:n.pic,class:"image-size"},null,8,Y)])])]),(0,c._)("div",J,[(0,c._)("button",{class:"btn btn-lg btn-danger mx-2",onClick:t=>e.$emit("removeLesson",n._id),disabled:n.space<=0},"Remove from cart",8,Q)])])])])))),128))])])])}var X={name:"CheckoutComponent",props:["cart","error"]};const ee=(0,T.Z)(X,[["render",V],["__scopeId","data-v-4123a551"]]);var ne=ee;const te="http://express-env.eba-bitp3hp2.ap-northeast-1.elasticbeanstalk.com/lessons/";class oe{static getLessons(){return new Promise((async(e,n)=>{try{const n=await fetch(te),t=n.json();e(t)}catch(t){n(t)}}))}static updateLesson(e,n){return fetch(`${te}${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({space:n})})}}var se=oe,re=t(5513),ie=t.n(re);const ae=(0,s.RN)({position:"top",duration:2e3,maxToasts:3});var ce={name:"RootComponent",components:{LessonComponent:S,CheckoutComponent:ne,Loading:ie()},data(){return{error:"",showCheckout:!1,cart:[],lessonData:[],isLoading:!1,fullPage:!0}},methods:{async addLesson(e){this.isLoading=!0;const n=this.cart.some((n=>n._id===e._id));await se.updateLesson(e._id,-1),this.lessonData=await se.getLessons(),n?this.cart.forEach((n=>{n._id===e._id&&(n.space+=1)})):(e.space=1,this.cart.push(e)),ae.show("Item added to cart successfully",{type:"success"}),this.isLoading=!1},async removeLesson(e){this.isLoading=!0,await se.updateLesson(e,1),this.lessonData=await se.getLessons(),this.cart.forEach((n=>{n._id===e&&(n.space>1?n.space-=1:this.cart=this.cart.filter((n=>n._id!==e)))})),ae.show("Item removed from cart successfully",{type:"success"}),this.isLoading=!1}},async created(){try{this.lessonData=await se.getLessons()}catch(e){this.error=e.message}}};const le=(0,T.Z)(ce,[["render",v]]);var de=le,ue={name:"App",components:{RootComponent:de}};const pe=(0,T.Z)(ue,[["render",l]]);var fe=pe,ge=t(5431);(0,ge.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}}),i.vI.add(a.mRB),(0,o.ri)(fe).component("fa",r.GN).use(s.ZP).mount("#app")}},n={};function t(o){var s=n[o];if(void 0!==s)return s.exports;var r=n[o]={exports:{}};return e[o].call(r.exports,r,r.exports,t),r.exports}t.m=e,function(){var e=[];t.O=function(n,o,s,r){if(!o){var i=1/0;for(d=0;d<e.length;d++){o=e[d][0],s=e[d][1],r=e[d][2];for(var a=!0,c=0;c<o.length;c++)(!1&r||i>=r)&&Object.keys(t.O).every((function(e){return t.O[e](o[c])}))?o.splice(c--,1):(a=!1,r<i&&(i=r));if(a){e.splice(d--,1);var l=s();void 0!==l&&(n=l)}}return n}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[o,s,r]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,o){var s,r,i=o[0],a=o[1],c=o[2],l=0;if(i.some((function(n){return 0!==e[n]}))){for(s in a)t.o(a,s)&&(t.m[s]=a[s]);if(c)var d=c(t)}for(n&&n(o);l<i.length;l++)r=i[l],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(d)},o=self["webpackChunkclient"]=self["webpackChunkclient"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(2688)}));o=t.O(o)})();
//# sourceMappingURL=app.b79d4944.js.map